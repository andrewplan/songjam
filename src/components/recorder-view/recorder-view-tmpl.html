<div class="recorder-view-wrapper">
    <div class="recorder-view-content-wrapper">
        <h2>Select the circle to start recording your next SongJam.</h2>

        <ng-audio-recorder
            id="mainAudio"
            audio-model="recorded"
            show-player="false"
            time-limit="timeLimit"
            layout="row"
            layout-align="center center"
        >
            <div ng-if="recorder.isAvailable" class="audio-recorder-wrapper">

                <div ng-if="recorder.status.isDenied === true" style="color: red;">
                    You need to grant permission for this application to USE your microphone.
                </div>
                <md-button
                    ng-click="recorder.startRecord()"
                    type="button"
                    ng-disabled="recorder.status.isDenied === true || recorder.status.isRecording"
                >
                    <md-icon
                        class="recorder-record-button"
                        md-font-icon="fiber_manual_record"
                        md-font-set="material-icons"
                        >
                        fiber_manual_record
                    </md-icon>
                    <md-tooltip>
                        Record
                    </md-tooltip>
                </md-button>
                <md-button
                    ng-click="recorder.stopRecord()"
                    type="button"
                    ng-disabled="recorder.status.isRecording === false"
                >
                    <md-icon

                        md-font-icon="stop"
                        md-font-set="material-icons"
                        >
                        stop
                    </md-icon>
                    <md-tooltip>
                        Stop
                    </md-tooltip>
                </md-button>

                <md-button ng-click="recorder.status.isPlaying ? recorder.playbackPause() : recorder.playbackResume()"
                        type="button" ng-disabled="recorder.status.isRecording || !recorder.audioModel">
                        <div ng-show="recorder.status.isStopped || recorder.status.isPaused">
                          <md-icon
                              md-font-icon="play_arrow"
                              md-font-set="material-icons"
                              >
                              play_arrow
                          </md-icon>
                          <md-tooltip>
                              Play
                          </md-tooltip>
                        </div>
                        <div ng-hide="recorder.status.isStopped || recorder.status.isPaused">
                          <md-icon
                              md-font-icon="pause"
                              md-font-set="material-icons"
                              >
                              pause
                          </md-icon>
                          <md-tooltip>
                              Pause
                          </md-tooltip>
                        </div>

                    <!-- {{recorder.status.isStopped || recorder.status.isPaused ? 'Play' : 'Pause'}} -->
                </md-button>

                <md-button
                    ng-click="currentTime = recorder.elapsedTime"
                    ng-disabled="!recorder.status.isRecording || recorder.audioModel"
                >
                    Bookmark
                </md-button>

                <md-button ng-disabled="recorder.status.isRecording || !recorder.audioModel">
                    <a id="save" href="" ng-click="recorder.save()">
                        Download
                    </a>
                </md-button>

                <md-button
                    ng-disabled="recorder.status.isRecording || !recorder.audioModel"
                    ui-sref="library-view"
                >
                    Save
                </md-button>

                <div style="max-width: 600px">
                    <div ng-show="recorder.status.isConverting">
                        Please wait while your recording is processed.
                    </div>

                    <div ng-show="recorder.isHtml5 && recorder.status.isRecording">
                        <ng-audio-recorder-analyzer wave-color="#fc5830"></ng-audio-recorder-analyzer>
                    </div>
                    <br/>

                    <div ng-show="!recorder.status.isRecording && recorder.audioModel">
                        <ng-audio-recorder-wave-view bar-width="4" wave-color="#fc5830"></ng-audio-recorder-wave-view>
                    </div>
                </div>

                <h2 style="font-family: sans-serif; text-align: center; width: 400px; border-radius: 20px;
            border: solid 2px #333; padding: 20px 10px;" ng-if="recorder.status.isRecording">
                    {{recorder.elapsedTime > 9 ? recorder.elapsedTime : ('0'+recorder.elapsedTime) }}
                    <br>
                    Bookmark added at: {{ currentTime }}

                </h2>


                <!-- <h2 style="font-family: sans-serif; text-align: center; border: solid 2px #333; padding: 20px 10px;"
                    ng-if="recorder.status.isRecording">
                    Remaining Time: {{recorder.timeLimit - recorder.elapsedTime}}
                </h2> -->
            </div>


            <div ng-if="!recorder.isAvailable">
                Your browser does not support this feature natively, please use latest version of <a
                    href="https://www.google.com/chrome/browser" target="_blank">Google Chrome</a> or <a
                    href="https://www.mozilla.org/en-US/firefox/new/" target="_blank">Mozilla Firefox</a>. If you're on
                Safari or Internet Explorer, you can install <a href="https://get.adobe.com/flashplayer/">Adobe Flash</a> to
                use this feature.
            </div>
        </ng-audio-recorder>
    </div>
</div>
